    @Test
    public void testApplyTokensConfigInitialTokensNotSetNumTokensNotSet() throws Exception
    {
        Config config = DatabaseDescriptor.loadConfig();

        unregisterSnitchesForTokenConfigTest();

        try
        {
            DatabaseDescriptor.applyTokensConfig(config);
        }
        finally
        {
            unregisterSnitchesForTokenConfigTest();
        }

        Assert.assertEquals(Integer.valueOf(1), config.num_tokens);
        Assert.assertTrue(DatabaseDescriptor.tokensFromString(config.initial_token).isEmpty());
    }

