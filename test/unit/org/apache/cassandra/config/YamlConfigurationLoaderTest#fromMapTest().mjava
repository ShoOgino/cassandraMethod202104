    @Test
    public void fromMapTest()
    {
        int storagePort = 123;
        Config.CommitLogSync commitLogSync = Config.CommitLogSync.batch;
        ParameterizedClass seedProvider = new ParameterizedClass("org.apache.cassandra.locator.SimpleSeedProvider", Collections.emptyMap());
        EncryptionOptions encryptionOptions = new EncryptionOptions()
                                              .withKeyStore("myNewKeystore")
                                              .withCipherSuites("SomeCipher")
                                              .withOptional(false);
        Map<String,Object> map = ImmutableMap.of("storage_port", storagePort,
                                                 "commitlog_sync", commitLogSync,
                                                 "seed_provider", seedProvider,
                                                 "client_encryption_options", encryptionOptions);
        Config config = YamlConfigurationLoader.fromMap(map, Config.class);
        assertEquals(storagePort, config.storage_port); // Check a simple integer
        assertEquals(commitLogSync, config.commitlog_sync); // Check an enum
        assertEquals(seedProvider, config.seed_provider); // Check a parameterized class
        assertEquals(encryptionOptions, config.client_encryption_options); // Check a nested object
    }

