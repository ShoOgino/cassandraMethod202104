    @Test(expected=IllegalLegacyColumnException.class)
    public void testColumnSameNameAsPartitionKeyCql3() throws Exception
    {
        CFMetaData cfm = CFMetaData.compile("CREATE TABLE cs (" +
                                            "k int PRIMARY KEY, v int)", "ks");

        LegacyLayout.LegacyCellName cellName 
            = LegacyLayout.decodeCellName(cfm, 
                                          LegacyLayout.makeLegacyComparator(cfm)
                                                      .fromString("k"));
    }

