    @Test
    public void testExpiringCellReconile()
    {
        // equal
        Assert.assertEquals(0, testExpiring("a", "a", 1, 1, null, null, null, null));

        // newer timestamp
        Assert.assertEquals(-1, testExpiring("a", "a", 2, 1, null, null, 1L, null));
        Assert.assertEquals(-1, testExpiring("a", "a", 2, 1, null, "b", 1L, 2));

        // newer TTL
        Assert.assertEquals(-1, testExpiring("a", "a", 1, 2, null, null, null, 1));
        Assert.assertEquals(1, testExpiring("a", "a", 1, 2, null, "b", null, 1));

        // newer value
        Assert.assertEquals(-1, testExpiring("a", "b", 2, 1, null, "a", null, null));
        Assert.assertEquals(-1, testExpiring("a", "b", 2, 1, null, "a", null, 2));
    }

