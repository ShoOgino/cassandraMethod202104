    Future<Void> reportEndpointVersion(InetAddress endpoint, EndpointState state)
    {
        if (state == null)
            return FINISHED_FUTURE;

        VersionedValue version = state.getApplicationState(ApplicationState.SCHEMA);

        if (version == null)
            return FINISHED_FUTURE;

        return reportEndpointVersion(endpoint, UUID.fromString(version.value));
    }

