    /**
     * Check if session is completed on receiving {@code StreamMessage.Type.COMPLETE} message.
     */
    public synchronized void complete()
    {
        if (state == State.WAIT_COMPLETE)
        {
            closeSession(State.COMPLETE);
        }
        else
        {
            handler.sendMessage(new CompleteMessage());
            state(State.WAIT_COMPLETE);
        }
    }

